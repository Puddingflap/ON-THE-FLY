<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ASTER OID â€” asterOID</title>
<link rel="icon" href="game/assets/cz-droid.png" type="image/png">

<link rel="alternate" href="https://asteroidmeme.com/index.html" hreflang="nl" />
<link rel="alternate" href="https://asteroidmeme.com/index-zh.html" hreflang="zh-CN" />

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

<style>
  :root{
    --bg:#070b14; --bg2:#0b1220; --fg:#e8f0ff; --muted:#90a0c0;
    --accent:#6ee7ff; --card:rgba(10,14,24,.78); --line:rgba(255,255,255,.08);
    --shadow:0 12px 40px rgba(0,0,0,.45);
  }
  *{box-sizing:border-box}
  body{
    margin:0; color:var(--fg);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,"PingFang SC","Noto Sans SC","Microsoft YaHei",sans-serif;
    background:linear-gradient(180deg,var(--bg),var(--bg2));
    overflow-x:hidden;
  }
  canvas#stars{position:fixed; inset:0; z-index:-1}

  .wrap{
    display:flex; justify-content:center; gap:24px; flex-wrap:wrap;
    padding:40px 20px 240px; position:relative; z-index:1;
  }
  .col{
    background:var(--card); border:1px solid var(--line); border-radius:16px;
    padding:20px; backdrop-filter: blur(6px); box-shadow:var(--shadow);
    max-width:420px; flex:1 1 320px;
  }
  h2{margin:0}
  p{color:var(--muted)}
  .pill{padding:6px 10px; border:1px solid var(--line); border-radius:999px; margin:2px; display:inline-block}
  .links{margin-top:10px; display:flex; gap:8px; flex-wrap:wrap}
  .links a{padding:8px 12px; border-radius:12px; border:1px solid var(--line);
    text-decoration:none; color:var(--fg); background:rgba(255,255,255,.04)}
  .title-row{display:flex; align-items:center; gap:10px; margin-bottom:12px}
  .badge{
    height:28px; width:28px; border-radius:50%; overflow:hidden; flex:0 0 28px;
    background:#0e1626; border:1px solid var(--line); display:grid; place-items:center;
    box-shadow:0 6px 18px rgba(0,0,0,.35);
  }
  .badge img{height:100%; width:100%; object-fit:contain}

  .btn{
    display:inline-block; padding:12px 16px; margin-top:8px; border-radius:14px;
    background:rgba(110,231,255,.15); border:1px solid rgba(110,231,255,.45);
    color:var(--fg); text-decoration:none; font-weight:700;
    transition:transform .12s ease, background .2s ease;
  }
  .btn:hover{background:rgba(110,231,255,.25)}
  .hero{
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    margin-top:-160px;
  }
  #head{
    width:clamp(200px,34vmin,360px); aspect-ratio:1/1;
    background:url("game/assets/cz-droid.png") center/contain no-repeat;
    filter:drop-shadow(0 40px 80px rgba(0,0,0,.55));
    transition: transform .12s ease-out;
  }
  .caption{margin-top:12px; font-weight:700; opacity:.8}

  .lang-switch{
    position:fixed; top:14px; right:14px; z-index:1000;
    background:rgba(255,255,255,0.12);
    border:1px solid rgba(255,255,255,0.3);
    padding:6px 12px; border-radius:999px;
    color:#fff; font-weight:600; text-decoration:none;
    backdrop-filter: blur(6px);
    box-shadow:0 8px 24px rgba(0,0,0,.25);
  }
  .lang-switch:hover{ background:rgba(255,255,255,0.25); }
  
  #leaderboard-top5 { list-style: none; padding: 0; margin: 10px 0 0; }
  .leaderboard-entry {
    display: flex; align-items: center; gap: 12px;
    margin-bottom: 12px; font-size: 15px;
  }
  .rank-span { font-weight: bold; width: 20px; text-align: right; color: var(--muted); }
  .name-span { flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .score-span { font-weight: bold; }

  @media (max-width:640px){
    .wrap{padding-bottom:160px}
    .hero{ margin-top:-60px; }
    #head{ width:clamp(180px,46vw,300px); }
  }
</style>
</head>
<body>

<a class="lang-switch" href="index.html">English</a>
<canvas id="stars"></canvas>

<div class="wrap">
  <section class="col" aria-labelledby="infoTitle">
    <div class="title-row">
      <div class="badge" aria-hidden="true">
        <img src="game/assets/aster.png" alt="" />
      </div>
      <h2 id="infoTitle">asterOID</h2>
    </div>
    <p><strong>é¦–ä¸ª ASTER memeã€‚</strong></p>
    <div></div>
    <div class="links">
      <a href="https://x.com/oid_bnb?s=21" target="_blank" rel="noopener">X</a>
      <a href="https://t.me/OID_BNB" target="_blank" rel="noopener">ç”µæŠ¥</a>
      <a href="https://dexscreener.com/bsc/0xc6d477719226e97ee6fcf48cf4d43be717b27fe2" target="_blank" rel="noopener">äº¤æ˜“å¯¹</a>
      <a href="https://bscscan.com/token/0x5f992abf5bc1725f6b0dfd116031c31aebb54444" target="_blank" rel="noopener">BSCScan</a>
      <a href="https://pancakeswap.finance/swap?outputCurrency=0x5f992abF5BC1725f6B0dFD116031C31AeBb54444&chain=bsc" target="_blank" rel="noopener">è´­ä¹°</a>
    </div>
  </section>

  <section class="col" aria-labelledby="playTitle">
    <div class="title-row">
      <div class="badge" aria-hidden="true">
        <img src="game/assets/cz-droid.png" alt="" />
      </div>
      <h2 id="playTitle">å¼€å§‹ç© Pilot CZ</h2>
    </div>
    <p><strong>æ“æ§å°è¡Œæ˜Ÿï¼Œèº²é¿æ®‹éª¸ï¼Œå†²å‡»å¸‚å€¼ã€‚</strong></p>

    <a class="btn" href="game/index-zh.html" title="Play ASTER OID">å¼€å§‹æ¸¸æˆ</a>

    <p style="margin-top:10px; color:#90a0c0;">
      æˆªå›¾ä½ çš„åˆ†æ•°å¹¶åˆ†äº«åˆ°ç¤¾äº¤åª’ä½“ï¼Œå‘å…¶ä»–ç¤¾åŒºå‘èµ·æŒ‘æˆ˜ã€‚
    </p>
  </section>
  
  <section class="col" aria-labelledby="leaderboardTitle">
    <div class="title-row">
      <div class="badge" aria-hidden="true">
        ğŸ†
      </div>
      <h2 id="leaderboardTitle">å‰ 5 åé£è¡Œå‘˜</h2>
    </div>
    <ol id="leaderboard-top5">
      <li>åŠ è½½ä¸­...</li>
    </ol>
  </section>
</div>

<div class="hero" aria-hidden="true">
  <div id="head"></div>
  <div class="caption">ä»–è¦æ¥äº†ã€‚</div>
</div>

<script>
/* æ˜Ÿæ˜ŸèƒŒæ™¯ */
(() => {
  const c=document.getElementById('stars'),x=c.getContext('2d');
  const DPR=Math.max(1,Math.min(2,window.devicePixelRatio||1));
  let w,h,stars;
  function resize(){
    w=c.width=innerWidth*DPR; h=c.height=innerHeight*DPR;
    stars=Array.from({length:160},()=>({
      x:Math.random()*w,y:Math.random()*h,z:.3+Math.random()*.7,r:.6+Math.random()*1.6
    }));
  }
  function tick(){
    x.clearRect(0,0,w,h);
    x.fillStyle="#05070f";x.fillRect(0,0,w,h);
    for(const s of stars){
      s.x-=(25*s.z*0.08);
      if(s.x<-2){s.x=w+Math.random()*40;s.y=Math.random()*h;s.z=.3+Math.random()*.7;}
      x.globalAlpha=0.5+s.z*0.5;
      x.beginPath(); x.arc(s.x,s.y,s.r*DPR,0,Math.PI*2); x.fillStyle='#e8f0ff'; x.fill();
    }
    requestAnimationFrame(tick);
  }
  resize(); addEventListener('resize',resize); tick();
})();

/* å¤´åƒè·Ÿéšé¼ æ ‡/è§¦æ‘¸ */
(() => {
  const head=document.getElementById('head');
  let vw=window.innerWidth,vh=window.innerHeight;
  const drift=20,maxTilt=10;
  function onMove(e){
    const p=e.touches?e.touches[0]:e;
    const dx=(p.clientX-vw/2)/(vw/2);
    const dy=(p.clientY-vh/2)/(vh/2);
    const tx=dx*drift, ty=dy*drift;
    const rx=dy*maxTilt, ry=-dx*maxTilt;
    head.style.transform=`translate(${tx}px,${ty}px) rotateX(${rx}deg) rotateY(${ry}deg)`;
  }
  addEventListener('mousemove',onMove,{passive:true});
  addEventListener('touchmove',onMove,{passive:true});
  addEventListener('resize',()=>{vw=innerWidth;vh=innerHeight;});
})();
</script>

<script>
(() => {
  const firebaseConfig = {
    apiKey: "AIzaSyAvssXnemI2JsDHLSUgngVfMkiaSErE6UU",
    authDomain: "space-cz.firebaseapp.com",
    projectId: "space-cz",
    storageBucket: "space-cz.appspot.com",
    messagingSenderId: "350516236483",
    appId: "1:350516236483:web:893197f55f213d3d161276"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  async function fetchTop5() {
    const listElement = document.getElementById('leaderboard-top5');
    try {
      const snapshot = await db.collection('scores').orderBy('score', 'desc').limit(5).get();

      if (snapshot.empty) {
        listElement.innerHTML = '<li>æˆä¸ºç¬¬ä¸€ä¸ªåˆ›é€ è®°å½•çš„äººï¼</li>';
        return;
      }

      let html = '';
      let rank = 1;
      snapshot.forEach(doc => {
        const data = doc.data();
        if (data && typeof data.name === 'string' && typeof data.score === 'number') {
          html += `
            <li class="leaderboard-entry">
              <span class="rank-span">#${rank}</span>
              <span class="name-span">${data.name}</span>
              <span class="score-span">${data.score}B</span>
            </li>
          `;
          rank++;
        }
      });
      listElement.innerHTML = html;

    } catch (error) {
      console.error("Error fetching leaderboard:", error);
      listElement.innerHTML = '<li>æ’è¡Œæ¦œæ— æ³•åŠ è½½ã€‚</li>';
    }
  }

  fetchTop5();
})();
</script>

</body>
</html>
